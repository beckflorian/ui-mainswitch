(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".ui-mainswitch-wrapper[data-v-0a4e0079]{padding:0;margin:0}.ui-mainswitch-class[data-v-0a4e0079]{color:green;font-weight:700}h1[data-v-0a4e0079]{margin-bottom:10px}h2[data-v-0a4e0079]{margin-top:1.5rem;margin-bottom:.75rem}h3[data-v-0a4e0079]{margin-top:1rem}p[data-v-0a4e0079]{margin-bottom:5px}ul li[data-v-0a4e0079]{list-style-type:circle;list-style-position:inside;margin-left:15px}pre[data-v-0a4e0079]{padding:12px;margin:12px;background-color:#eee}code[data-v-0a4e0079]{font-size:.825rem;color:#ae0000}")),document.head.appendChild(e)}}catch(a){console.error("vite-plugin-css-injected-by-js",a)}})();
(function(l,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue"),require("vuex")):typeof define=="function"&&define.amd?define(["exports","vue","vuex"],t):(l=typeof globalThis<"u"?globalThis:l||self,t(l["ui-mainswitch"]={},l.Vue,l.vuex))})(this,function(l,t,w){"use strict";function x(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _=N,y=/\s/,C=/(_|-|\.|:)/,V=/([a-z][A-Z]|[A-Z][a-z])/;function N(e){return y.test(e)?e.toLowerCase():C.test(e)?(b(e)||e).toLowerCase():V.test(e)?S(e).toLowerCase():e.toLowerCase()}var g=/[\W_]+(.|$)/g;function b(e){return e.replace(g,function(o,s){return s?" "+s:""})}var k=/(.)([A-Z]+)/g;function S(e){return e.replace(k,function(o,s,i){return s+" "+i.toLowerCase().split("").join(" ")})}var T=_,E=I;function I(e){return T(e).replace(/[a-z]/i,function(o){return o.toUpperCase()}).trim()}var j=function(e){return String(e).replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")},M=["a","an","and","as","at","but","by","en","for","from","how","if","in","neither","nor","of","on","only","onto","out","or","per","so","than","that","the","to","until","up","upon","v","v.","versus","vs","vs.","via","when","with","without","yet"],$=E,v=j,D=M,O=R,z=D.map(v),L=new RegExp("[^^]\\b("+z.join("|")+")\\b","ig"),U=/:\s*(\w)/g;function R(e){return $(e).replace(/(^|\s)(\w)/g,function(o,s,i){return s+i.toUpperCase()}).replace(L,function(o){return o.toLowerCase()}).replace(U,function(o){return o.toUpperCase()})}const A=x(O),W=(e,o)=>{const s=e.__vccOpts||e;for(const[i,n]of o)s[i]=n;return s},H={name:"UIMainswitch",inject:["$socket"],props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})},state:{type:Object,default:()=>({enabled:!1,visible:!1})}},setup(e){console.info("UIMainswitch setup with:",e),console.debug("Vue function loaded correctly",t.markRaw)},data(){return{input:{title:"some text here will base turned into title case."},vuetifyStyles:[{label:"Responsive Displays",url:"https://vuetifyjs.com/en/styles/display/#display"},{label:"Flex",url:"https://vuetifyjs.com/en/styles/flex/"},{label:"Spacing",url:"https://vuetifyjs.com/en/styles/spacing/#how-it-works"},{label:"Text & Typography",url:"https://vuetifyjs.com/en/styles/text-and-typography/#typography"}],tickIntervals:[{secs:4,text:'4"'},{secs:7,text:'7"'},{secs:10,text:'10"'},{secs:15,text:'15"'},{secs:20,text:'20"'},{secs:30,text:'30"'},{secs:40,text:'40"'},{secs:50,text:'50"'},{secs:60,text:"1'"},{secs:120,text:"2'"},{secs:240,text:"4'"},{secs:420,text:"7'"},{secs:600,text:"10'"},{secs:900,text:"15'"},{secs:1200,text:"20'"},{secs:1800,text:"30'"},{secs:2400,text:"40'"},{secs:3e3,text:"50'"},{secs:3600,text:"60'"},{secs:5400,text:"90'"},{secs:7200,text:"2h"},{secs:14400,text:"4h"},{secs:21600,text:"6h"},{secs:28800,text:"8h"},{secs:43200,text:"12h"},{secs:64800,text:"18h"},{secs:86400,text:"24h"},{secs:172800,text:"48h"}],actionColors:{on:"green",off:"red",ud:"grey"},statusColors:{on:"yellow-darken-2",off:"light-blue-accent-3",ud:"grey"},colorScheme:{on:"green",off:"red",auto:"blue",man:"black",bg:"grey-lighten-4",bga:"grey-lighten-2",autoOn:"yellow-darken-2",autoOff:"light-blue-accent-3"},mainSwitchStates:["on","off","auto","man"],autoColor:"grey",status:{mainSwitch:0,interval:14,feedback:"ud",auto:"ud"}}},computed:{titleCase(){return A(this.input.title)},showInterval(){return this.tickIntervals[this.status.interval].text},readOnlySlider(){return this.status.mainSwitch==3},feedbackColor(){return this.actionColors[this.status.feedback]},autoColor(){return this.statusColors[this.status.auto]},...w.mapState("data",["messages"])},mounted(){this.$socket.on("widget-load:"+this.id,e=>{this.$store.commit("data/bind",{widgetId:this.id,msg:e})}),this.$socket.on("msg-input:"+this.id,e=>{this.$store.commit("data/bind",{widgetId:this.id,msg:e})}),this.$socket.on("mainswitchOut:"+this.id,e=>{console.log(e.payload),e.payload?this.mainLabelColor=this.colorScheme.on:this.mainLabelColor=this.colorScheme.off}),this.$socket.on("feedback:"+this.id,e=>{this.feedbackColor=this.colorScheme[e.payload],console.log(e.payload)}),this.$socket.on("auto:"+this.id,e=>{this.autoColor=this.colorScheme[e.payload],console.log(e.payload)}),this.$socket.on("upMainswitch:"+this.id,e=>{this.mainswitch=e.payload,console.log("upMainswitch: "+e.payload)}),this.$socket.on("upTimer:"+this.id,e=>{this.timerSek=e.payload,console.log("upTimer: "+e.payload)}),this.$socket.on("updateStatus:"+this.id,e=>{this.status=e.payload,console.log("updateStatus: "+e.payload)}),this.$socket.emit("widget-load",this.id),this.$socket.emit("update-status",this.id)},unmounted(){var e,o,s,i,n,a,d;(e=this.$socket)==null||e.off("widget-load:"+this.id),(o=this.$socket)==null||o.off("msg-input:"+this.id),(s=this.$socket)==null||s.off("mainswitchOut:"+this.id),(i=this.$socket)==null||i.off("feedback:"+this.id),(n=this.$socket)==null||n.off("auto:"+this.id),(a=this.$socket)==null||a.off("upMainswitch:"+this.id),(d=this.$socket)==null||d.off("upTimer:"+this.id)},methods:{send(e){this.$socket.emit("widget-action",this.id,e)},alert(e){alert(e)},tester(){alert(this.mainswitch)},updateMainswitch(){console.info("downMainswitch: "+this.status.mainSwitch),this.$socket.emit("downMainswitch",this.id,{payload:this.status.mainSwitch})},updateInterval(){console.info("downInterval: "+{payload:this.status.intervall,secs:this.tickIntervals[this.status.interval].secs}),this.$socket.emit("downInterval",this.id,{payload:this.status.interval,secs:this.tickIntervals[this.status.interval].secs})},test(){console.info("custom event handler:"),this.$socket.emit("my-custom-event",this.id,{payload:"Custom Event"})}}},r=e=>(t.pushScopeId("data-v-0a4e0079"),e=e(),t.popScopeId(),e),q={className:"ui-mainswitch-wrapper"},Z=r(()=>t.createElementVNode("pre",null,`<v-btn @click="alert('Hello World')">Alert "Hello World"</v-btn>`,-1)),B=r(()=>t.createElementVNode("h3",null,[t.createElementVNode("code",null,"this.props")],-1)),F=r(()=>t.createElementVNode("p",null,[t.createTextVNode("The "),t.createElementVNode("code",null,"props"),t.createTextVNode(" object contains the properties defined in the widget's configuration in Node-RED.")],-1)),P=r(()=>t.createElementVNode("h3",null,[t.createElementVNode("code",null,"this.status")],-1)),G=r(()=>t.createElementVNode("p",null,[t.createTextVNode("The "),t.createElementVNode("code",null,"status"),t.createTextVNode(" object contains the properties defined in the widget's configuration in Node-RED.")],-1)),J=r(()=>t.createElementVNode("h3",null,[t.createElementVNode("code",null,"this.state")],-1)),K=r(()=>t.createElementVNode("p",null,[t.createTextVNode(" The "),t.createElementVNode("code",null,"state"),t.createTextVNode(" object contains the current visibility & behavioural state of the widget, including whether it is enabled and visible. This is not yet fully functionality in Dashboard 2.0, but will be expanded in future. ")],-1));function Q(e,o,s,i,n,a){const d=t.resolveComponent("v-chip"),p=t.resolveComponent("v-col"),m=t.resolveComponent("v-spacer"),f=t.resolveComponent("v-row"),Y=t.resolveComponent("v-expansion-panel-title"),u=t.resolveComponent("v-icon"),h=t.resolveComponent("v-btn"),tt=t.resolveComponent("v-btn-toggle"),et=t.resolveComponent("v-slider"),ot=t.resolveComponent("v-expansion-panel-text"),st=t.resolveComponent("v-expansion-panel"),nt=t.resolveComponent("v-expansion-panels");return t.openBlock(),t.createElementBlock("div",q,[t.createVNode(nt,null,{default:t.withCtx(()=>[t.createVNode(st,null,{default:t.withCtx(()=>[t.createVNode(Y,{class:"pa-2"},{default:t.withCtx(()=>[t.createVNode(f,{"no-gutters":""},{default:t.withCtx(()=>[t.createVNode(p,{cols:"auto"},{default:t.withCtx(()=>[t.createVNode(d,{class:"ma-1 rounded",color:a.feedbackColor,"prepend-icon":"mdi-hydro-power",density:"compact",size:"x-large",variant:"outlined"},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(s.props.switchLabel),1)]),_:1},8,["color"])]),_:1}),t.createVNode(m),t.createVNode(p,{cols:"auto"},{default:t.withCtx(()=>[t.createVNode(d,{class:"ma-1 rounded",color:a.autoColor,"prepend-icon":"mdi-import",density:"compact",variant:"outlined",size:"x-large"},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(s.props.autoLabel),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),t.createVNode(ot,null,{default:t.withCtx(()=>[t.createVNode(f,null,{default:t.withCtx(()=>[t.createVNode(p,{cols:"auto"},{default:t.withCtx(()=>[t.createVNode(tt,{modelValue:n.status.mainSwitch,"onUpdate:modelValue":[o[0]||(o[0]=c=>n.status.mainSwitch=c),o[1]||(o[1]=c=>a.updateMainswitch())],class:"pa-1",mandatory:"",variant:"outlined",divided:"",rounded:"l",color:"blue"},{default:t.withCtx(()=>[t.createVNode(h,null,{default:t.withCtx(()=>[t.createVNode(u,{size:"x-large",color:n.colorScheme.off},{default:t.withCtx(()=>[t.createTextVNode("mdi-fan-off")]),_:1},8,["color"])]),_:1}),t.createVNode(h,null,{default:t.withCtx(()=>[t.createVNode(u,{size:"x-large",color:n.colorScheme.on},{default:t.withCtx(()=>[t.createTextVNode("mdi-fan")]),_:1},8,["color"])]),_:1}),t.createVNode(h,null,{default:t.withCtx(()=>[t.createVNode(u,{size:"x-large",color:n.colorScheme.auto},{default:t.withCtx(()=>[t.createTextVNode("mdi-fan-auto")]),_:1},8,["color"])]),_:1}),t.createVNode(h,{color:n.colorScheme.man},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(a.showInterval),1)]),_:1},8,["color"])]),_:1},8,["modelValue"])]),_:1}),t.createVNode(m),t.createVNode(p,null,{default:t.withCtx(()=>[t.createVNode(et,{max:"27","show-ticks":"",step:"1","tick-size":"1",modelValue:n.status.interval,"onUpdate:modelValue":[o[2]||(o[2]=c=>n.status.interval=c),o[3]||(o[3]=c=>a.updateInterval())],"prepend-icon":"mdi-clock-time-four","min-width":"20em","max-width":"40em",density:"compact","thumb-size":"10",readonly:a.readOnlySlider,class:"pa-2"},null,8,["modelValue","readonly"]),t.createTextVNode(t.toDisplayString(e.timerSek),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),Z,t.createVNode(h,{onClick:o[4]||(o[4]=c=>a.alert("Hello World"))},{default:t.withCtx(()=>[t.createTextVNode('Alert "Hello World"')]),_:1}),B,F,t.createElementVNode("pre",null,t.toDisplayString(s.props),1),P,G,t.createElementVNode("pre",null,t.toDisplayString(n.status),1),J,K,t.createElementVNode("pre",null,t.toDisplayString(s.state),1)])}const X=W(H,[["render",Q],["__scopeId","data-v-0a4e0079"]]);l.UIMainswitch=X,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
